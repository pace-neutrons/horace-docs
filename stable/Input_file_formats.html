

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Input file formats &mdash; Horace 3.5.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="FAQ" href="FAQ.html" />
    <link rel="prev" title="List of functions" href="List_of_functions.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Horace
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="The_Horace_Rationale.html">The Horace Rationale</a></li>
<li class="toctree-l1"><a class="reference internal" href="Download_and_setup.html">Download and setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="Support_and_updates.html">Support and updates</a></li>
<li class="toctree-l1"><a class="reference internal" href="Getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="Advanced_use.html">Advanced use</a></li>
<li class="toctree-l1"><a class="reference internal" href="Horace_GUI.html">Horace GUI</a></li>
<li class="toctree-l1"><a class="reference internal" href="Changing_Horace_settings.html">Changing Horace settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="Planning_a_Horace_scan.html">Planning a Horace scan</a></li>
<li class="toctree-l1"><a class="reference internal" href="Generating_SQW_files.html">Generating SQW files</a></li>
<li class="toctree-l1"><a class="reference internal" href="Manipulating_and_extracting_data_from_SQW_files_and_objects.html">Manipulating and extracting data from SQW files and objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="Correcting_for_sample_misalignment.html">Correcting for sample misalignment</a></li>
<li class="toctree-l1"><a class="reference internal" href="Data_diagnostics.html">Data diagnostics</a></li>
<li class="toctree-l1"><a class="reference internal" href="Symmetrising_etc.html">Symmetrising etc</a></li>
<li class="toctree-l1"><a class="reference internal" href="Unary_operations.html">Unary operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="Binary_operations.html">Binary operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="Plotting.html">Plotting</a></li>
<li class="toctree-l1"><a class="reference internal" href="Simulation.html">Simulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="Multifit.html">Multifit</a></li>
<li class="toctree-l1"><a class="reference internal" href="Tobyfit.html">Tobyfit</a></li>
<li class="toctree-l1"><a class="reference internal" href="List_of_functions.html">List of functions</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Input file formats</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#nxspe-file">NXSPE file</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#gen-nxspe">gen_nxspe</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#spe-file-and-par-file">SPE file and PAR file</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#spe-file-format">SPE file format</a></li>
<li class="toctree-l3"><a class="reference internal" href="#par-file-format">PAR file format</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="FAQ.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="Example_scripts.html">Example scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="How_to_cite_Horace.html">How to cite Horace</a></li>
<li class="toctree-l1"><a class="reference internal" href="Papers_citing_Horace.html">Papers citing Horace</a></li>
<li class="toctree-l1"><a class="reference internal" href="Known_bugs.html">Known bugs</a></li>
<li class="toctree-l1"><a class="reference internal" href="Become_a_developer.html">Become a developer</a></li>
<li class="toctree-l1"><a class="reference internal" href="For_Developers.html">For Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="Developer_info.html">Developer info</a></li>
<li class="toctree-l1"><a class="reference internal" href="General_disclaimer.html">General disclaimer</a></li>
<li class="toctree-l1"><a class="reference internal" href="Privacy_policy.html">Privacy Policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="Changing_object_type.html"> </a></li>
<li class="toctree-l1"><a class="reference internal" href="Developer_information.html"> </a></li>
<li class="toctree-l1"><a class="reference internal" href="Fitting.html"> </a></li>
<li class="toctree-l1"><a class="reference internal" href="Herbert.html"> </a></li>
<li class="toctree-l1"><a class="reference internal" href="Horace_and_Libisis_installation.html"> </a></li>
<li class="toctree-l1"><a class="reference internal" href="Horace_command_line.html"> </a></li>
<li class="toctree-l1"><a class="reference internal" href="New.html"> </a></li>
<li class="toctree-l1"><a class="reference internal" href="Official_download_v1.html"> </a></li>
<li class="toctree-l1"><a class="reference internal" href="Read_or_write_to_disk.html"> </a></li>
<li class="toctree-l1"><a class="reference internal" href="Remote_data_analysis.html"> </a></li>
<li class="toctree-l1"><a class="reference internal" href="Reshaping_etc.html"> </a></li>
<li class="toctree-l1"><a class="reference internal" href="Run_inspector.html"> </a></li>
<li class="toctree-l1"><a class="reference internal" href="Script_for_correcting_sample_misalignment.html"> </a></li>
<li class="toctree-l1"><a class="reference internal" href="Script_for_data_treatment.html"> </a></li>
<li class="toctree-l1"><a class="reference internal" href="Script_for_fitting.html"> </a></li>
<li class="toctree-l1"><a class="reference internal" href="Script_for_generating_sqw_files.html"> </a></li>
<li class="toctree-l1"><a class="reference internal" href="Script_for_making_cuts_and_plotting.html"> </a></li>
<li class="toctree-l1"><a class="reference internal" href="Script_for_making_publication_quality_figures.html"> </a></li>
<li class="toctree-l1"><a class="reference internal" href="Script_for_making_simulations.html"> </a></li>
<li class="toctree-l1"><a class="reference internal" href="Script_for_planning_an_experiment.html"> </a></li>
<li class="toctree-l1"><a class="reference internal" href="s_new.html"> </a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Horace</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Input file formats</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/Input_file_formats.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="input-file-formats">
<h1>Input file formats<a class="headerlink" href="#input-file-formats" title="Permalink to this headline">Â¶</a></h1>
<p>To generate the SQW file from which Horace reads S(<strong>Q</strong>,w), neutron scattering data for each individual run and needs to be provided in one of two formats: the legacy ASCII format SPE file, together with an ASCII detector parameter file (the PAR file), or their replacements the HDF5 (Hierarchical Data Format) NXSPE file. Two functions are available as part of Horace to create SQW files from these input files, namely :ref:<code class="docutils literal notranslate"><span class="pre">gen_sqw</span></code> (creates a new SQW file) and <code class="docutils literal notranslate"><span class="pre">accumulate_sqw</span></code> (accumulates data to an existing SQW file). The functions to generate SQW files are described in detail <cite>here &lt;Generating_SQW_files:Generating SQW files&gt;</cite>.</p>
<p>Generally, the input data files (SPE or NXSPE format) will be created by the data reduction code for the instrument which you are using if Horace has been made available for that instrument by the scientist(s) responsible. However, if you want to use Horace to analyse data from other instruments you need to know how to create the input files from whatever format your data is saved in.</p>
<div class="section" id="nxspe-file">
<h2>NXSPE file<a class="headerlink" href="#nxspe-file" title="Permalink to this headline">Â¶</a></h2>
<p>The recommended input data file for Horace is the NXSPE file, which holds both the S(w) data and errors for each detector, detector position and size information, together with the crystal orientation angle<code class="docutils literal notranslate"><span class="pre">psi</span></code> and the incident neutron energy Ei. The NXSPE file stores the information in a NeXus format file, which is a common data exchange format for neutron, X-ray and muon data that is built on top of the HDF5 (Hierarchical Data Format) scientific data format.</p>
<p>Data files in the NXSPE format are produced by the Mantid data analysis software (<a class="reference external" href="http://www.mantidproject.org/">http://www.mantidproject.org/</a>). They are directly produced by the data reduction algorithms within Mantid for the direct geometry spectrometers at both the ISIS spallation neutron source at the Rutherford Appleton Laboratory in the UK and the SNS spallation neutron source at Oak Ridge National Laboratory in the USA. Mantid is an open source data manipulation and analysis framework for neutron and muon data analysis. If Mantid is used to perform the data corrections for a neutron spectrometer, then the Mantid algorithm <code class="docutils literal notranslate"><span class="pre">SaveNXSPE</span></code> can be used to output NXSPE files. Full details of how to use Mantid and the input/output for each algorithm are available at the [<a class="reference external" href="http://www.mantidproject.org/">http://www.mantidproject.org/</a>| Mantid web site].</p>
<p>More suitable for a âquick startâ, is if you can read corrected scattering data, associated estimated errors, and detector parameters into Matlab arrays. You can then use the Horace utility function <code class="docutils literal notranslate"><span class="pre">gen_nxspe</span></code> to create NXSPE files.</p>
<div class="section" id="gen-nxspe">
<h3>gen_nxspe<a class="headerlink" href="#gen-nxspe" title="Permalink to this headline">Â¶</a></h3>
<p>This is a flexible to repackage and/or save S(<strong>Q</strong>,w) and detector to file. To write a single NXSPE file the syntax is as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gen_nxspe</span><span class="p">(</span><span class="n">S</span><span class="p">,</span><span class="n">ERR</span><span class="p">,</span><span class="n">en</span><span class="p">,</span><span class="n">par</span><span class="p">,</span><span class="n">nxspefile_name</span><span class="p">,</span><span class="n">efix</span><span class="p">,</span><span class="n">emode</span><span class="p">,</span><span class="n">psi</span><span class="p">)</span>
</pre></div>
</div>
<p>The input parameters are defined as follows:</p>
<p><code class="docutils literal notranslate"><span class="pre">S</span></code>: Array of signal strength size [ne,nd] where ne is the number of energy bins and nd is the number of detector elements.</p>
<p><code class="docutils literal notranslate"><span class="pre">ERR</span></code>: Array of estimated standard errors with size [ne,nd].</p>
<p><code class="docutils literal notranslate"><span class="pre">en</span></code>: Array of energy bin boundaries. The number of elements is therefore (ne+1).</p>
<p><code class="docutils literal notranslate"><span class="pre">par</span></code>: Array of detector parameters with size [6,nd]. Each column of the array contains information for a detector element:</p>
<ul class="simple">
<li><p>ind: Detector index number. The detectors can be numbered 1,2,â¦nd</p></li>
<li><p>L2: Distance (m) from the sample to detector.</p></li>
<li><p>phi: Scattering angle (degrees) i.e. angle between the incident beam direction and a line connecting the sample to the detector. In spherical polar coordinates where the conventional z-axis points in the direction of the incident beam, this angle is the conventional polar angle theta.</p></li>
<li><p>azim: Azimuthal angle (degrees). In the spherical polar frame defined above, and with the conventional y-axis pointing vertically upwards, this angle is the conventional azimuthal angle phi.</p></li>
<li><p>width: Width (m) of the detector perpendicular to the Debye-Scherrer ring through the detector.</p></li>
<li><p>length: Length (m) of the detector tangential to the Debye-Scherrer ring through the detector.</p></li>
</ul>
<p>The width and length of the detector are not actually used by Horace, but dummy values need to be provided.</p>
<p><code class="docutils literal notranslate"><span class="pre">nxspefile_name</span></code>: The name of the file to which the data will be saved.</p>
<p><code class="docutils literal notranslate"><span class="pre">efix</span></code>: Fixed energy (meV). If emode=1 this is the fixed incident energy, if emode=2 it is the fixed final energy.</p>
<p><code class="docutils literal notranslate"><span class="pre">psi</span></code>: Rotation about the vertical axis. This is the angle between the vector u of the pair of vectors u and v that define the horizontal scattering plane of the crystal.</p>
</div>
</div>
<div class="section" id="spe-file-and-par-file">
<h2>SPE file and PAR file<a class="headerlink" href="#spe-file-and-par-file" title="Permalink to this headline">Â¶</a></h2>
<p>These files may be encountered if you are using Horace to analyse older data. The ASCII format SPE file stores S(w) and associated error bars as a function of energy transfer, h-barw, for each detector in turn. In addition to the set of SPE files, Horace requires an accompanying ASCII file which contains information about the location of the detectors in the spectrometerâs reference frame, the PAR file. Although these ASCII format files have largely been superseded in favour of the NXSPE format described above, such files are ubiquitous as the format in which historic data is saved, and are recognised by several other neutron visualisation and analysis programs. Some programs can also write their own output as SPE files, and consequently the SPE file is sometimes used as a transportable format data file for time-of-flight neutron spectrometers. The format of these two files is described here. However, it is not recommended to create new SPE files as it is now an obsolete file format.</p>
<div class="section" id="spe-file-format">
<h3>SPE file format<a class="headerlink" href="#spe-file-format" title="Permalink to this headline">Â¶</a></h3>
<p>The SPE file contains the intensity and estimated standard deviation on those intensities for each detector element in turn, with header blocks that give the number of detectors and energy bins, and the scattering angle and energy transfer bin boundaries. These blocks are all separated by character strings that begin with â###â. In full:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">nd</span> <span class="n">ne</span>

<span class="c1">### Phi Grid</span>

<span class="n">phi</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="n">phi</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>    <span class="n">phi</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>  <span class="n">phi</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>  <span class="n">phi</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>  <span class="n">phi</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>  <span class="n">phi</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>  <span class="n">phi</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
<span class="n">phi</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span> <span class="n">phi</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>   <span class="n">phi</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="n">phi</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span> <span class="n">phi</span><span class="p">(</span><span class="mi">13</span><span class="p">)</span> <span class="n">phi</span><span class="p">(</span><span class="mi">14</span><span class="p">)</span> <span class="n">phi</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span> <span class="n">phi</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span>
<span class="p">:</span>
<span class="o">...</span>    <span class="n">phi</span><span class="p">(</span><span class="n">nd</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>

<span class="c1">### Energy Grid</span>

<span class="n">en</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="n">en</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>    <span class="n">en</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>  <span class="n">en</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>  <span class="n">en</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>  <span class="n">en</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>  <span class="n">en</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>  <span class="n">en</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
<span class="n">en</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span> <span class="n">en</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>   <span class="n">en</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="n">en</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span> <span class="n">en</span><span class="p">(</span><span class="mi">13</span><span class="p">)</span> <span class="n">en</span><span class="p">(</span><span class="mi">14</span><span class="p">)</span> <span class="n">en</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span> <span class="n">en</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span>
<span class="p">:</span>
<span class="o">...</span>   <span class="n">en</span><span class="p">(</span><span class="n">ne</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>

<span class="c1">### S(Phi,w)</span>

<span class="n">S</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="n">S</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="n">S</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>  <span class="n">S</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>  <span class="n">S</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>  <span class="n">S</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>  <span class="n">S</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>  <span class="n">S</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
<span class="n">S</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span> <span class="n">S</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="n">S</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="n">S</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span> <span class="n">S</span><span class="p">(</span><span class="mi">13</span><span class="p">)</span> <span class="n">S</span><span class="p">(</span><span class="mi">14</span><span class="p">)</span> <span class="n">S</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span> <span class="n">S</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span>
<span class="p">:</span>
<span class="o">...</span>  <span class="n">S</span><span class="p">(</span><span class="n">ne</span><span class="p">)</span>

<span class="c1">### Errors ERR(1)  ERR(2)  ERR(3)  ERR(4)  ERR(5)  ERR(6)  ERR(7)  ERR(8)</span>
<span class="n">ERR</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>     <span class="n">ERR</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="n">ERR</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="n">ERR</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span> <span class="n">ERR</span><span class="p">(</span><span class="mi">13</span><span class="p">)</span> <span class="n">ERR</span><span class="p">(</span><span class="mi">14</span><span class="p">)</span> <span class="n">ERR</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span> <span class="n">ERR</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span>
<span class="p">:</span>
<span class="o">...</span>        <span class="n">ERR</span><span class="p">(</span><span class="n">ne</span><span class="p">)</span>

<span class="c1">### S(Phi,w)</span>
<span class="p">:</span>
<span class="c1">### Errors</span>
<span class="p">:</span>
</pre></div>
</div>
<p>Here nd is the number of detectors, ne is the number of energy bins, phi contains scattering angles that are now ignored by all applications as well as Horace (set to 1,2,3â¦(nd+1)), en contains the energy transfer bin boundaries, and S and ERR contain the signal and standard error on the signal for each detecetor in turn.</p>
<p>On the first line, nd and ne need only to be separated by white space. In the blocks containing the signal and error the format is highly prescribed: each line must contain 8 real numbers, apart from the last line in each block, and each number must occupy a field of precisely 10 spaces. No white space is necessary. This is a frequent source of problem when writing the files. It is strongly recommended that you do not try to create your own SPE format files.</p>
</div>
<div class="section" id="par-file-format">
<h3>PAR file format<a class="headerlink" href="#par-file-format" title="Permalink to this headline">Â¶</a></h3>
<p>The PAR file contains the position information of the detectors and their sizes. The format is:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 16%" />
<col style="width: 18%" />
<col style="width: 20%" />
<col style="width: 22%" />
<col style="width: 24%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>ndet</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>L2(1)</p></td>
<td><p>phi(1)</p></td>
<td><p>azim(1)</p></td>
<td><p>width(1)</p></td>
<td><p>length(1)</p></td>
</tr>
<tr class="row-odd"><td><p>L2(2)</p></td>
<td><p>phi(2)</p></td>
<td><p>azim(2)</p></td>
<td><p>width(2)</p></td>
<td><p>length(2)</p></td>
</tr>
<tr class="row-even"><td><p>:</p></td>
<td><p>:</p></td>
<td><p>:</p></td>
<td><p>:</p></td>
<td><p>:</p></td>
</tr>
<tr class="row-odd"><td><p>L2(ndet)</p></td>
<td><p>phi(ndet)</p></td>
<td><p>azim(ndet)</p></td>
<td><p>width(ndet)</p></td>
<td><p>length(ndet)</p></td>
</tr>
</tbody>
</table>
<p>where</p>
<ul class="simple">
<li><p>ndet: Total number of detector elements.</p></li>
<li><p>L2: Distance (m) from the sample to detector.</p></li>
<li><p>phi: Scattering angle (degrees) i.e. angle between the incident beam direction and a line connecting the sample to the detector. In spherical polar coordinates where the conventional z-axis points in the direction of the incident beam, this angle is the conventional polar angle theta.</p></li>
<li><p>azim: Azimuthal angle (degrees). In the spherical polar frame defined above, and with the conventional y-axis pointing vertically upwards, this angle is the conventional azimuthal angle phi.</p></li>
<li><p>width: Width (m) of the detector perpendicular to the Debye-Scherrer ring through the detector.</p></li>
<li><p>length: Length (m) of the detector tangential to the Debye-Scherrer ring through the detector.</p></li>
</ul>
<p>The width and length of the detector are not actually used by Horace, but dummy values need to be present in the file. The parameters need to be separated by white space, but otherwise there are no constraints on the format. NIMA_834_132_Horace_Paper.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="FAQ.html" class="btn btn-neutral float-right" title="FAQ" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="List_of_functions.html" class="btn btn-neutral float-left" title="List of functions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Alex Buts, Toby Perring, Nick Battam, Harry Saunders, Duc Le, Chris Marooney

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>