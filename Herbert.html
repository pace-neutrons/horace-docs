
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Herbert &#8212; Horace 3.5.0 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Horace and Libisis installation" href="Horace_and_Libisis_installation.html" />
    <link rel="prev" title="Fitting" href="Fitting.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="herbert">
<h1>Herbert<a class="headerlink" href="#herbert" title="Permalink to this headline">¶</a></h1>
<p>Herbert is the collection of utilities for visualisation and analysis of neutron spectroscopy data. It can be used alone or as the package, which provide low level data manipulation routines for the <a class="reference external" href="http://horace.isis.rl.ac.uk/Main_Page">Horace</a> package</p>
<p>It has been extracted from Libisis to simplify Horace installation and can be considered as <a class="reference external" href="http://www.libisis.org/Main_Page">Libisis</a> stripped of the data reduction capabilities.</p>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>Installing Herbert means registering it with Matlab. The procedure is very similar to the one, done for Horace itself so we will refer to it as registering a package. Two methods to register a package are currently used by ISIS. One is based on editing your Matlab startup file, and another one – by registering small part of the packages with Matlab. The startup.m method is simpler, while registering package_on file provides more flexible results and is necessary if you are intended to use parallel Herbert/Horace capabilities.</p>
<div class="section" id="installation-using-matlab-startup-file">
<h3>Installation using Matlab startup file<a class="headerlink" href="#installation-using-matlab-startup-file" title="Permalink to this headline">¶</a></h3>
<p>Unzip all of the Herbert folders into a single directory. The directory structure below this will be taken care of by your zip program. On a Windows machines a good place to put this would be somewhere like</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">C</span><span class="p">:</span>\<span class="n">mprogs</span>\
</pre></div>
</div>
<p>On Unix convenient place would be an</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">~/</span><span class="n">ISIS</span> <span class="n">folder</span><span class="o">.</span>
</pre></div>
</div>
<p>Now you need to edit your startup.m file so that Horace is added to the Matlab path whenever you restart. Find your startup.m file, which is usually located somewhere like</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">C</span><span class="p">:</span>\<span class="n">Usersx</span>\<span class="n">local</span>\<span class="n">startup</span><span class="o">.</span><span class="n">m</span>
</pre></div>
</div>
<p>This is the Matlab default location. Alternatively you can start a new Matlab session and then type</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">edit</span> <span class="n">startup</span>
</pre></div>
</div>
<p>and the correct startup file should be found.</p>
<p>Assuming that you have unpacked herbert into the folder: c:\mprogs\Herbert, and the herbert_init.m can be found in this folder, add the to your startup file the following rows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">try</span>
<span class="n">libisis_off</span><span class="p">();</span>
<span class="n">catch</span>
<span class="n">end</span>
<span class="k">try</span>
<span class="n">herbert_off</span><span class="p">();</span>
<span class="n">catch</span>
<span class="n">end</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">addpath</span><span class="p">(</span><span class="s1">&#39;c:</span><span class="se">\\</span><span class="s1">mprogs</span><span class="se">\\</span><span class="s1">Herbert&#39;</span><span class="p">);</span>
<span class="n">herbert_init</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="installation-by-editing-and-registering-package-on-file">
<h3>Installation by editing and registering package_on file<a class="headerlink" href="#installation-by-editing-and-registering-package-on-file" title="Permalink to this headline">¶</a></h3>
<p>1) Edit the first executable row of the <strong>herbert_on.m.template</strong> file, which can be found in Herebert/admin folder putting there the path where you unpacked Herbert. e.g., if you unpacked Herbert into c:\mprogs\Herbert,
write there:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">her_default_path</span><span class="o">=</span><span class="s1">&#39;c:/mprogs/Herbert&#39;</span><span class="p">;</span>
</pre></div>
</div>
<ol class="arabic" start="2">
<li><p>Rename <strong>herbert_on.m.template</strong> into <strong>herbert_on.m</strong> and move this file into the folder where matlab can always found it.</p>
<ol class="loweralpha">
<li><p>To do that we recommend creating folder:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>mkdir $matlab_folder$/toolbox/ISIS
</pre></div>
</div>
<p>where $matlab_folder$ is the folder where matlab is installed (type (bash) <strong>ls -l `which matlab`</strong> under Unix or ‘right click on matlab icon’ and select <em>properties</em> under windows and select the path above /bin folder in both cases)</p>
</li>
<li><p>Start matlab and execute:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&gt;&gt;addpath($matlab_folder$/toolbox/ISIS) % replace $matlab_folder$ by real matlab path identified at step 2a)
&gt;&gt;savepath()
</pre></div>
</div>
</li>
<li><p>move herbert_on.m file there and update toolbox cache typing:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;</span><span class="n">rehash</span> <span class="n">toolbox</span>
</pre></div>
</div>
<p>or selecting this option from the GUI (File-&gt;preferences-&gt;general-&gt;update toolbox cache in Matlab 2011b but can be in different place for different Matlab version)</p>
</li>
</ol>
</li>
</ol>
<p>Herbert becomes available after starting matlab typing <code class="docutils literal notranslate"><span class="pre">herbert_on</span></code>. Alternatively, you can add herbert_on to your startup file.</p>
<p>Under Uinx-like OS you usually need to be an administrator, to edit /toolbox folder, so any other convenient location, where you have write access can be used instead.</p>
</div>
<div class="section" id="main-capabilities">
<h3>Main Capabilities<a class="headerlink" href="#main-capabilities" title="Permalink to this headline">¶</a></h3>
<p>Herbert has just been developed and have not had extensive used manual yet. Its main graphics and fitting capabilities are similar to <a class="reference external" href="http://www.libisis.org/">Libisis</a>.</p>
</div>
<div class="section" id="herbert-and-libisis">
<h3>Herbert and Libisis<a class="headerlink" href="#herbert-and-libisis" title="Permalink to this headline">¶</a></h3>
<p>If both Herbert, and Libisis are present on your system (and you have not disabled Libisis in your startup file as suggested above), Horace will use the package which has been initiated last. There are number of Herbert and Libisis commands, which have the same syntax. The package, initiated last will set up its command to use from Matlab command prompt. Older versions of Libisis are not compatible with Herbert, so it is suggested to download and setup latest Libisis version if you have to use it together with Herbert (in one Matlab session).</p>
<p>We suggest to setup Herbert and Libisis using package_on() approach (libisis_on template file can be found in Libisis/ISIS_utilities folder). This will allow you to switch between Herbert and Libisis typing corresponding package name. Screenshot-Horace_Planner.</p>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Horace</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="The_Horace_Rationale.html">The Horace Rationale</a></li>
<li class="toctree-l1"><a class="reference internal" href="Download_and_setup.html">Download and setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="Support_and_updates.html">Support and updates</a></li>
<li class="toctree-l1"><a class="reference internal" href="Getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="Advanced_use.html">Advanced use</a></li>
<li class="toctree-l1"><a class="reference internal" href="Horace_GUI.html">Horace GUI</a></li>
<li class="toctree-l1"><a class="reference internal" href="Changing_Horace_settings.html">Changing Horace settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="Planning_a_Horace_scan.html">Planning a Horace scan</a></li>
<li class="toctree-l1"><a class="reference internal" href="Generating_SQW_files.html">Generating SQW files</a></li>
<li class="toctree-l1"><a class="reference internal" href="Manipulating_and_extracting_data_from_SQW_files_and_objects.html">Manipulating and extracting data from SQW files and objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="Correcting_for_sample_misalignment.html">Correcting for sample misalignment</a></li>
<li class="toctree-l1"><a class="reference internal" href="Data_diagnostics.html">Data diagnostics</a></li>
<li class="toctree-l1"><a class="reference internal" href="Symmetrising_etc.html">Symmetrising etc</a></li>
<li class="toctree-l1"><a class="reference internal" href="Unary_operations.html">Unary operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="Binary_operations.html">Binary operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="Plotting.html">Plotting</a></li>
<li class="toctree-l1"><a class="reference internal" href="Simulation.html">Simulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="Multifit.html">Multifit</a></li>
<li class="toctree-l1"><a class="reference internal" href="Tobyfit.html">Tobyfit</a></li>
<li class="toctree-l1"><a class="reference internal" href="List_of_functions.html">List of functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="Input_file_formats.html">Input file formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="FAQ.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="Example_scripts.html">Example scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="How_to_cite_Horace.html">How to cite Horace</a></li>
<li class="toctree-l1"><a class="reference internal" href="Papers_citing_Horace.html">Papers citing Horace</a></li>
<li class="toctree-l1"><a class="reference internal" href="Known_bugs.html">Known bugs</a></li>
<li class="toctree-l1"><a class="reference internal" href="Become_a_developer.html">Become a developer</a></li>
<li class="toctree-l1"><a class="reference internal" href="For_Developers.html">For Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="Developer_info.html">Developer info</a></li>
<li class="toctree-l1"><a class="reference internal" href="General_disclaimer.html">General disclaimer</a></li>
<li class="toctree-l1"><a class="reference internal" href="Privacy_policy.html">Privacy Policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="Changing_object_type.html">\</a></li>
<li class="toctree-l1"><a class="reference internal" href="Developer_information.html">\</a></li>
<li class="toctree-l1"><a class="reference internal" href="Fitting.html">\</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">\</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#installation-using-matlab-startup-file">Installation using Matlab startup file</a></li>
<li class="toctree-l3"><a class="reference internal" href="#installation-by-editing-and-registering-package-on-file">Installation by editing and registering package_on file</a></li>
<li class="toctree-l3"><a class="reference internal" href="#main-capabilities">Main Capabilities</a></li>
<li class="toctree-l3"><a class="reference internal" href="#herbert-and-libisis">Herbert and Libisis</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Horace_and_Libisis_installation.html">\</a></li>
<li class="toctree-l1"><a class="reference internal" href="Horace_command_line.html">\</a></li>
<li class="toctree-l1"><a class="reference internal" href="New.html">\</a></li>
<li class="toctree-l1"><a class="reference internal" href="Official_download_v1.html">\</a></li>
<li class="toctree-l1"><a class="reference internal" href="Read_or_write_to_disk.html">\</a></li>
<li class="toctree-l1"><a class="reference internal" href="Remote_data_analysis.html">\</a></li>
<li class="toctree-l1"><a class="reference internal" href="Reshaping_etc.html">\</a></li>
<li class="toctree-l1"><a class="reference internal" href="Run_inspector.html">\</a></li>
<li class="toctree-l1"><a class="reference internal" href="Script_for_correcting_sample_misalignment.html">\</a></li>
<li class="toctree-l1"><a class="reference internal" href="Script_for_data_treatment.html">\</a></li>
<li class="toctree-l1"><a class="reference internal" href="Script_for_fitting.html">\</a></li>
<li class="toctree-l1"><a class="reference internal" href="Script_for_generating_sqw_files.html">\</a></li>
<li class="toctree-l1"><a class="reference internal" href="Script_for_making_cuts_and_plotting.html">\</a></li>
<li class="toctree-l1"><a class="reference internal" href="Script_for_making_publication_quality_figures.html">\</a></li>
<li class="toctree-l1"><a class="reference internal" href="Script_for_making_simulations.html">\</a></li>
<li class="toctree-l1"><a class="reference internal" href="Script_for_planning_an_experiment.html">\</a></li>
<li class="toctree-l1"><a class="reference internal" href="s_new.html">\</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="Fitting.html" title="previous chapter">Fitting</a></li>
      <li>Next: <a href="Horace_and_Libisis_installation.html" title="next chapter">Horace and Libisis installation</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Alex Buts, Toby Perring, Nick Battam, Harry Saunders, Duc Le, Chris Marooney.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.1.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/Herbert.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>